{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://your-domain.com/schemas/sow/v1.0.0",
  "title": "Statement of Work (SoW)",
  "description": "Machine-readable task contract for downstream agents",
  "type": "object",
  "required": [
    "schema_version",
    "schema_id",
    "artifact_type",
    "file_path",
    "dependencies",
    "logic_steps",
    "vv_checks",
    "generator",
    "ordering_key"
  ],
  "properties": {
    "schema_version": {
      "type": "string",
      "pattern": "^\\d+\\.\\d+\\.\\d+$",
      "description": "Semantic version of SoW schema"
    },
    "schema_id": {
      "type": "string",
      "format": "uri",
      "description": "Schema identifier URL"
    },
    "artifact_type": {
      "enum": ["code_file", "yaml_config", "md_section", "sql_migration", "test_file", "docker_file"],
      "description": "Type of artifact to be created"
    },
    "file_path": {
      "type": "string",
      "description": "Target file path for implementation"
    },
    "function_signature": {
      "type": "string",
      "description": "Function, class, or structure signature"
    },
    "dependencies": {
      "type": "array",
      "items": {"type": "string"},
      "description": "Required dependencies or modules"
    },
    "logic_steps": {
      "type": "array",
      "items": {"type": "string"},
      "minItems": 1,
      "description": "Ordered list of implementation steps"
    },
    "touch_points": {
      "type": "array",
      "items": {"type": "string"},
      "description": "Related files that may be affected"
    },
    "vv_checks": {
      "type": "array",
      "items": {"type": "string"},
      "minItems": 1,
      "description": "Verification & validation criteria with specific references"
    },
    "generator": {
      "enum": ["code-implementer-agent", "test-runner-agent", "refactorer-agent"],
      "description": "Target agent for execution"
    },
    "ordering_key": {
      "type": "string",
      "pattern": "^\\d{4}-[a-z-]+$",
      "description": "Execution order key (e.g., 0007-auth-login)"
    },
    "artifact_hash_after": {
      "type": ["string", "null"],
      "description": "SHA-256 hash after implementation (filled post-completion)"
    }
  }
}